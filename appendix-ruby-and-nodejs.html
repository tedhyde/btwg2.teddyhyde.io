<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.2">
<title>Ruby, NodeJS (and the Shell) at GitHub</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400">

<link rel="stylesheet" href="/assets/css/style.css?v=">

<script src="https://unpkg.com/micromodal/dist/micromodal.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.5.3/firebase.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.5.3/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.5.3/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.5.3/firebase-auth.js"></script>
<script src="https://cdn.finneyfor.com/0.0.3/teddyhyde-client-0.0.3.js"></script>
<script src="edit.js"></script>
<link rel="stylesheet" type="text/css" href="fab.css">
<link rel="stylesheet" type="text/css" href="micromodal.css">
<link rel="stylesheet" type="text/css" href="https://cdn.finneyfor.com/0.0.1/teddyhyde-reveal-jekyll.css" />
<!-- Include jQuery -->
<script src="https://code.jquery.com/jquery-1.8.2.min.js"></script>
<!-- Include jQuery Popup Overlay -->
<script src="https://cdn.rawgit.com/vast-engineering/jquery-popup-overlay/1.7.13/jquery.popupoverlay.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-127650375-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-127650375-1');
</script>


</head>
<body class="article">
  <div class="container">
<div id="excerpt"><div class="sect1">
<h2>Ruby, NodeJS (and the Shell) at GitHub</h2>
<div class="sectionbody"><div class="paragraph"><p>
The founders of GitHub all had deep ties and contributions to the Ruby
programming language, so we cover it more than other languages in this
book.
</p></div></div>
</div></div>
<div id="header">
</div>
<div id="content" style="display: none">
<div class="sect1">
<h2 id="appendix">Ruby, NodeJS (and the Shell) at GitHub</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The founders of GitHub all had deep ties and contributions to the Ruby
programming language, so we cover it more than other languages in this
book.</p>
</div>
<div class="paragraph">
<p>In recent years, NodeJS (JavaScript for the server side) has
grown in popularity, and JavaScript has always been an interesting
language because it works on both the client side and server
side. GitHub has offered several popular open source projects written
in NodeJS.</p>
</div>
<div class="paragraph">
<p>For these reasons, this appendix gives a little more detail
on using these two languages.</p>
</div>
<div class="paragraph">
<p>In addition, some fluency with the shell is beneficial. There are many
GUI programs which hide the command line from you, but to truly dive
deep into the GitHub API, it is worthwhile to use the command line
inside a shell. These examples all work with BASH (the Bourne Again
Shell), but are careful not to use any advanced features of BASH (so
they should convert to other shells if you are strongly favor another
shell).</p>
</div>
<div class="sect2">
<h3 id="_github_and_ruby">GitHub and Ruby</h3>
<div class="paragraph">
<p>When one day they document the history of GitHub, the Ruby language will
take its place as a major character. Tom Preston Warner (one of three
founders of GitHub) built the initial libraries for using git with
Ruby, a library called Grit. You can host blogs on GitHub for free,
and this tool called Jekyll is built using Ruby. Gollum, the
technology which powers GitHub wikis, is built using Grit and runs on Ruby.</p>
</div>
<div class="paragraph">
<p>To understand GitHub, it is best to understand a little bit of Ruby.
You can use many of the tools used at GitHub by simply installing Ruby,
and not knowing any Ruby syntax. This book will not require you to
become an expert in Ruby, but will ask you to read through Ruby
code. We write in a literal, readable way, so that anyone with basic
software developer skills and mastery of the English language should
be able to understand the tools we are using. Ruby is not a perfect
language, but is a useful addition to a developer’s toolkit because of
its focus on developer productivity.</p>
</div>
<div class="sect3">
<h4 id="_installing_ruby">Installing Ruby</h4>
<div class="paragraph">
<p>There are many ways to get Ruby but not all of them are created equal.
As a long time user I have experienced the pain of using a pre-installed Ruby
or one from a package manager, and generally these installation
methods provide a suboptimal experience. If you are not familiar with
Ruby, use this chapter to get through installation with the least
friction and trouble.</p>
</div>
<div class="paragraph">
<p>You might already have a version of Ruby installed. Mac OSX comes
bundled with Ruby and various flavors of Linux do as well (or provide
a quick and easy installation through the built in package manager
like "apt-get"). However, I recommend that you use the method of
installation described below rather than using the stock installed
version of Ruby you might already have on your system. Often ruby
packages require a specific version of ruby though there
is a chance it will work with other versions. The problem is that you
might encounter subtle bugs that have never been seen before and using
the methods described here will make it trivial to install any version
of Ruby that you need side by side with any other version. You can
guarantee you are using the correct version, and the method described
here will not interfere with any other previously installed version of
Ruby you have already on your system.</p>
</div>
<div class="paragraph">
<p>To install Ruby, use RVM. RVM stands for Ruby Version Manager. RVM allows you to install
multiple versions of Ruby on your machine and have them interoperate
without conflict. You will probably only need to install a single
version of Ruby to use the examples in the book. And, RVM makes it so
that if you choose to install another version, you will not have to
reconfigure any applications that relied on the other versions
installed.</p>
</div>
<div class="paragraph">
<p>Installation of Ruby using RVM depends on your operating system. If
you are using Mac OSX or Linux, your installation will probably be as
simple as running these commands from a shell:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ \curl -sSL https://get.rvm.io | bash -s stable</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will install RVM and Ruby.</p>
</div>
<div class="paragraph">
<p>If you are running Windows, you can use RVM to install Ruby, but your
instructions are a little more complicated. Refer to the documentation
to do so. A better option is to consider installing something like
VirtualBox (a virtual machine manager). If you do this, you can
install RVM inside a Linux Virtual Machine (VM). Windows is, sadly, a
second class citizen with Ruby and RVM and, for this reason, it is
often better to install RVM inside a host system like Linux which has
a wider community around it to support you. Virtual Box and Linux are
free as in beer and as in speech, so you can try them out without cost
(other than your time). There are many native gems for Ruby which
don’t properly compile if the host system is Windows, so you can save
yourself considerable time by just using a completely free (as in
beer) option like VirtualBox and a Linux virtual machine running on
Windows instead of fighting with running everything directly on Windows.</p>
</div>
</div>
<div class="sect3">
<h4 id="_important_ruby_and_rvm_concepts">Important Ruby and RVM Concepts</h4>
<div class="paragraph">
<p>Here are a few tips when using Ruby and RVM.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Gemfile</code>: Ruby packages libraries in a format called a gem. A
gemfile is a manifest which describes which gems your application
needs. Gemfiles make it simple to install all the required
libraries: run the <code>bundle</code> command from a shell prompt and all
libraries will be installed, which can include downloading from the
network and building from source if compilation is required.</p>
</li>
<li>
<p><code>.ruby-version</code> or <code>.rvmrc</code>: These two files tell your application
(or shell) which version of Ruby to use. Often applications will
include this file as a part of their package. If you use RVM, RVM
will either switch to that version of Ruby or prompt you to install
that version. Imagine you have an
application which only runs on Ruby 2.1.3. You can create a file
called <code>.ruby-version</code> which contains the string <code>ruby-2.1.3</code> and
when your application starts, it will automatically use that version
of Ruby. There are other Ruby based tools (like the
zero-configuration web server Pow) which are aware of files
like .ruby-version and will properly use correct version of Ruby if
they see this file.</p>
</li>
<li>
<p><code>config.ru</code>: This is a file used to run Ruby applications using
Rack. Rack is a web server interface, compatible with many
application servers. If you see a config.ru file, you can run this
application with many different servers. These can be powerful front
ends used in production on many large sites on the Internet, or they
can be minimal servers used just on a single laptop; Rack makes it
easy to setup a server.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_potential_problems_installing_ruby">Potential problems installing Ruby.</h4>
<div class="ulist">
<ul>
<li>
<p>Missing system tools: If you are running Mac OSX, you need to
install Xcode and the command line tools. If you are a software
developer, you probably have these already installed. If not, review
online documentation to install these. If you are running Linux, you
might not have installed the compiler chain; you can install all the
build tools you will ever need using this command: <code>sudo apt-get
install build-essential</code>. This can take a while, but will ensure you
have all the tools necessary for building RVM and any binary gems.</p>
</li>
<li>
<p>Missing developer libraries: There are some libraries which support
Ruby (readline support, as an example, which allows you to use
command line history inside of an interactive Ruby shell) that are
not always installed or available to the RVM tool. RVM has greatly
improved in detecting the correct libraries, and there are often
notes which tell you how to properly configure these libraries. Make
sure to read the output printed to the screen as you install Ruby
using RVM for special instructions specific to your platform.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_github_is_excited_about_nodejs">GitHub is excited about NodeJS</h3>
<div class="paragraph">
<p>NodeJS is the server side version of JavaScript. JavaScript is the
only ubiquitious client side programming language for the web. Between
Ruby and JavaScript, you can build any web application you
need. Tools like Hubot show the benefits of using a language like
JavaScript running on the NodeJS platform, which facilitates building
"fast, scalable networked applications."</p>
</div>
<div class="sect3">
<h4 id="_nodejs_installation">NodeJS Installation</h4>
<div class="paragraph">
<p>The nodejs.org web page offers various binary installers. These are
generally the best way to install the most recent version of NodeJS.</p>
</div>
</div>
<div class="sect3">
<h4 id="_node_version_manager">Node Version Manager</h4>
<div class="paragraph">
<p>NVM stands for "Node Version Manager" and is a direct correlate
to RVM. Like RVM, NVM allows you to install multiple versions of
NodeJS on a single machine and switch between them seamlessly. This
can be very useful when using a tool like NodeJS which is iterating
rapidly (and whose modules are also often tested against only a very
new version of NodeJS). NVM runs on OSX or Linux. To install, run
these commands from a shell prompt:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ curl -o- \
https://raw.githubusercontent.com/creationix/nvm/v0.25.3/install.sh | \
bash</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will install NVM for you. You then might need to run <code>source
~/.bash_profile</code> to load the NVM scripts. Once this is completed, you
are able to run NVM commands.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ nvm install 0.10 # Install version 0.10
$ nvm use 0.10     # Use version 0.10</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are many more commands available with NVM, all of which can be
found at the repository where the tool is hosted:
<a href="https://github.com/creationix/nvm" class="bare">https://github.com/creationix/nvm</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_package_json">package.json</h4>
<div class="paragraph">
<p>Much like Ruby has a Gemfile which indicates required libraries, so
too does NodeJS have an equivalent file. In NodeJS, this file is
called <code>package.json</code>.  To install all required libraries for any
project, use the <code>npm</code> tool (installed by default when you install
NodeJS using NVM). Running <code>npm</code> without any arguments will
install all libraries specified by the application if there is a
<code>package.json</code> file included with the project. If you want to add a
package to an existing <code>package.json</code> file, you can append <code>--save</code> to
the npm command and npm will update package.json for you once the
installation of the package has completed.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_command_line_basics_and_the_shell">Command Line Basics and the Shell</h3>
<div class="paragraph">
<p>Though most chapters focus on a specific programming language (aside
from the cURL chapter), all of the chapters contain command line
invocations. There are a few intricacies when using the shell that you
might not be familiar with that we will explain here, with an actual
example of each.</p>
</div>
<div class="sect3">
<h4 id="_shell_comments">Shell Comments</h4>
<div class="paragraph">
<p>If you type a hash character ("#") into a shell command, the rest of
the line is considered a comment. This makes it easy to document
commands on the same line.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ cat file.txt # This prints out the file "file.txt"</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command ends after the <code>file.txt</code> string. We use this often
throughout the chapter to document shell commands.</p>
</div>
</div>
<div class="sect3">
<h4 id="_providing_variables_to_commands">Providing Variables to Commands</h4>
<div class="paragraph">
<p>When a process runs in the shell, it runs within an environment, and
this environment can be configured with key/value pairs. These are called
environment variables. A common reason for this is that you can write
a program which reads passwords from the environment variables and
then specify them at run time rather than in the source code. You
specify environment variables either as key values pairs joined by an
equal sign in front of a command, or by using the <code>export</code> command to
persist them across commands.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ PASSWORD=MyPwd123 myProgram  # myProgram retrieves the variable PASSWORD
$ export PASSWORD=MyPwd123
$ myProgram # PASSWORD is now a persisted key value</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_splitting_commands_into_multiple_lines">Splitting Commands into Multiple Lines</h4>
<div class="paragraph">
<p>The shell invokes commands when you hit the enter key. But, there are
times when you want to break a command into multiple lines for
readability. In this case, break each line up using the backslash
character.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ git log -S http
...
$ git \
log \
-S \
http
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Though not the most compelling command to break into multiple lines,
this example shows two commands that do exactly the same thing.</p>
</div>
</div>
<div class="sect3">
<h4 id="_piping_output_to_successive_commands">Piping Output to Successive Commands</h4>
<div class="paragraph">
<p>Shell commands were written long in an era when programs fulfilled
upon a small set of functionality, in stark contrast to today’s
monolithic GUI programs. Each program generally did a few simple
things and then passed information to another program for further
processing. Programs then needed an elegant way to pass data between
each other, and the pipe was born. Pipes facilitate communication
between processes: one command’s output becomes another command’s
input.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ cat /etc/mime.types | grep http
application/http
application/vnd.httphone
application/x-httpd-eruby			rhtml
application/x-httpd-php
phtml pht php
application/x-httpd-php-source			phps</code></pre>
</div>
</div>
<div class="paragraph">
<p>This invocation uses the "cat" program to outout the file
/etc/mime.types, and then passes this information to the "grep"
program which looks inside the input to find all lines which contain
the string "http".</p>
</div>
</div>
<div class="sect3">
<h4 id="_redirection">Redirection</h4>
<div class="paragraph">
<p>Similar to the pipe, shells support redirecting output to files using
the <code>&gt;</code> and <code>&gt;&gt;</code> characters. <code>&gt;</code> will overwrite an existing file (or
create a new file if it does not exist) while the double <code>&gt;&gt;</code> string
will append to a file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ cat /etc/mime.types | grep http &gt; saved-output.txt</code></pre>
</div>
</div>
<div class="paragraph">
<p>After running this command, the file <code>saved-output.txt</code> will contain
the same text as was produced in the prior example for the pipe. The
file will be overwritten if it existed already.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-10-16 23:22:32 PDT
</div>
</div>

<div onclick="openCustomization()" class="fab-customization">☃</div>

<div class="loginWrapper" style="display: none">
  <div style="display: none" class="fab-user">👽</div>
  <div onclick="loginToGithub()" class="informational">Please login to GitHub</div>
</div>

<div class="informationalWrapper" style="display: none">
  <div class="informational smaller">
    Click on any dotted section to provide a comment or suggestion. Click on the edit button to cancel.
  </div>
</div>
    
<div onclick="toggleEditing()" class="fab">✏️</div>

<div class="modal micromodal-slide" id="modal-1" aria-hidden="true">
  <div class="modal__overlay" tabindex="-1" data-micromodal-close>
    <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-1-title">
      <header class="modal__header">
	<h2 class="modal__title" id="modal-1-title">
	  Add a comment or change request
	</h2>
	<button class="modal__close" aria-label="Close modal" data-micromodal-close></button>
      </header>
      <main class="modal__content" id="modal-1-content">
	Add a comment or change to this text
	<p id="selectedText">
	</p>

	<input name="change" type="text" placeholder="Enter your comment or edit request..."/>
      </main>
      <footer class="modal__footer">
	<button onclick="storeIt()" class="modal__btn modal__btn-primary">Store comment</button>
	<button class="modal__btn" data-micromodal-close aria-label="Close this dialog window">Close</button>
      </footer>
    </div>
  </div>
</div>

<div class="modal micromodal-slide" id="modal-2" aria-hidden="true">
  <div class="modal__overlay" tabindex="-1" data-micromodal-close>
    <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-2-title">
      <header class="modal__header">
	<h2 class="modal__title" id="modal-2-title">
	  Customize this book for you.
	</h2>
	<button class="modal__close" aria-label="Close modal" data-micromodal-close></button>
      </header>
      <main class="modal__content" id="modal-2-content">

	FYI: This does not yet work!
	<a target="_new" href="https://goo.gl/forms/8o5NgerENFqgm6vH3">Can you help provide feedback on what you like and want?</a>
	
	<div  class="customization">
	  <input type="checkbox" name="checkbox" id="checkbox_id" value="value">
	  <label for="checkbox_id">Minimize callouts</label>
	  <div class="explanation">If a chapter contains callouts with code, don't show those. 
	    You can display these individually by clicking the summary text when needed.
	  </div>
	</div>

	<div class="customization">
	  <input type="checkbox" name="checkbox" id="checkbox_id2" value="value">
	  <label for="checkbox_id2">Minimize setup instructions</label>
	  <div class="explanation">If a chapter contains setup instructions, don't show those. 
	    You can display these individually by clicking the summary text when needed.
	  </div>
	</div>

	<div class="customization">
	  <input type="checkbox" name="checkbox" id="checkbox_id3" value="value">
	  <label for="checkbox_id3">Show quizes</label>
	  <div class="explanation">
	    At certain points in the discussion, present quizes which test your knowledge!
	  </div>
	</div>
	
	<div class="customization">
	  <input type="checkbox" name="checkbox" id="checkbox_id4" value="value">
	  <label for="checkbox_id4">Show mistakes</label>
	  <div class="explanation">
	    At times the author may have made mistakes in writing the code. You can read about the techniques 
	    used to figure out something was wrong, or only see the final solution.
	  </div>
	</div>

      </main>
      <footer class="modal__footer">
	<button  class="modal__btn modal__btn-primary">Save Customizations</button>
	<button class="modal__btn" data-micromodal-close aria-label="Close this dialog window">Close</button>
      </footer>
    </div>
  </div>
</div>

<div id="filedIssue">
  Thanks for your contribution!
  <div id="issueUrl"></div>.
  You've been tagged on it, so you will get updates automatically.
</div>

<iframe height="150px" width="100%"
	style="background-color: white !important"
	frameborder="0" id="th"
	src="https://tx.finneyfor.com/contribution/btwg2.teddyhyde.io"></iframe>

<div class="faked">NB: This "contribution" button is a only a simulation, no actual money is required. 
You can safely click the contribute button to see what would happen if you actually made a micro-contribution.
</div>

<div id="wrapper">
  <div id="personal_ad_wrapper">
    <!-- Add content to the popup -->
    <div id="personal_ad_popup">
      <h2>Thanks for your visit.</h2>
      
      <div>
	You aren't interesting in contributing. I get that, everyone has
	moments where it just doesn't work. Thanks for visiting.
      </div>
      
      <div>
	Please watch this ad for 15 seconds and
	then you'll have full access to the post.
      </div>
      
      <div>
	While you wait:
	<a target="_new" href="https://admin.finneyfor.com">
	  <h3 class="underline">Why not create your own blog here?</h3>
	</a>
	Create your <strong>FREE Jekyll blog</strong> hosted on GitHub:
	<strong>fast and secure over HTTPS</strong>,
	with <strong>PWA notifications</strong> so your users never miss a post,
	and collect <strong>cryptocurrency micro-contributions</strong> with ease.
    </div>
    
  </div>
</div>
</div>
</div>

</body>
</html>
