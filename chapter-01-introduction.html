<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.2">
<title>The Unclad GitHub API</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove the comments around the @import statement below when using this as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
#map_canvas img,#map_canvas embed,#map_canvas object,.map_canvas img,.map_canvas embed,.map_canvas object{max-width:none!important}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
.antialiased,body{-webkit-font-smoothing:antialiased}
img{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{display:inline-block;color:rgba(0,0,0,.8);font-size:.75em;line-height:1.4;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:-.15em .15em 0 .15em;padding:.2em .6em .2em .5em;vertical-align:middle;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.05em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.spread{width:100%}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1{padding-right:.75em;font-weight:bold}
td.hdlist1,td.hdlist2{vertical-align:top}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none}
span.footnote,span.footnoteref{vertical-align:super;font-size:.875em}
span.footnote a,span.footnoteref a{text-decoration:none}
span.footnote a:active,span.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em;line-height:1.3;font-size:.875em;margin-left:1.2em;text-indent:-1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
h1,h2{letter-spacing:-.01em}
dt,th.tableblock,td.content{text-rendering:optimizeLegibility}
p,td.content{letter-spacing:-.01em}
p strong,td.content strong{letter-spacing:-.005em}
p,blockquote,dt,td.content{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img{page-break-inside:avoid}
thead{display:table-header-group}
img{max-width:100%!important}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<script src="https://unpkg.com/micromodal/dist/micromodal.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.5.3/firebase.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.5.3/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.5.3/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.5.3/firebase-auth.js"></script>
<script src="https://cdn.teddyhyde.com/0.0.1/teddyhyde-client-0.0.1.js"></script>
<script src="edit.js"></script>
<link rel="stylesheet" type="text/css" href="fab.css">
<link rel="stylesheet" type="text/css" href="micromodal.css">
<link rel="stylesheet" type="text/css" href="https://cdn.teddyhyde.com/0.0.1/teddyhyde-reveal-jekyll.css" />
<!-- Include jQuery -->
<script src="https://code.jquery.com/jquery-1.8.2.min.js"></script>
<!-- Include jQuery Popup Overlay -->
<script src="https://cdn.rawgit.com/vast-engineering/jquery-popup-overlay/1.7.13/jquery.popupoverlay.js"></script>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect1">
<h2 id="introduction">The Unclad GitHub API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter eases us into reading and writing data from the GitHub
API. Successive chapters show you how to access information
from the GitHub API using a variety of client libraries. These client
libraries, by design, hide the nuts and bolts of the API from you,
providing streamlined and idiomatic methods to view and modify data
inside a Git repository hosted on GitHub. This chapter, however, gives
you a naked viewpoint of the GitHub API and  documents the details of
the raw HTTP requests and responses. It also discusses the different
ways to access public and private data inside of GitHub and where
limitations exist. And, it gives you an overview of the options for
accessing GitHub data when running inside a web browser context where
network access is restrained.</p>
</div>
<div class="sect2">
<h3 id="_curl">cURL</h3>
<div class="paragraph">
<p>There will be times when you want to quickly access information from
the GitHub API without writing a formal program. Or, when you want to quickly
get access to the raw HTTP request headers and content. Or, where you
might even question the implementation of a client library and need
confirmation it is doing the right thing from another vantage
point. In these situations, cURL, a simple command line HTTP tool, is
the perfect fit. cURL, like the best unix tools, is a small program
with a very specific and purposefully limited set of features for
accessing HTTP servers.</p>
</div>
<div class="paragraph">
<p>cURL, like the HTTP protocol which it speaks intimately, is stateless:
we will explore solutions to this limitation in a later chapter, but
note that cURL works best with one-off requests.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Installing cURL</div>
cURL is usually installed on most OSX machines, and can easily be installed
using Linux package managers (probably one of "apt-get install curl" or "yum install
curl"). If you are using Windows or want to manually install it, go to
<a href="http://curl.haxx.se/download.html" class="bare">http://curl.haxx.se/download.html</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Let&#8217;s make a request. We&#8217;ll start with the most basic GitHub API
endpoint found at <a href="https://api.github.com" class="bare">https://api.github.com</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ curl https://api.github.com
{
  "current_user_url": "https://api.github.com/user",
  "current_user_authorizations_html_url":
  "https://github.com/settings/connections/applications{/client_id}",
  "authorizations_url": "https://api.github.com/authorizations",
  "code_search_url":
  "https://api.github.com/search/code?q={query}{&amp;page,per_page,sort,order}",
  "emails_url": "https://api.github.com/user/emails",
  "emojis_url": "https://api.github.com/emojis",
  ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We&#8217;ve abbreviated the response to make it more readable. A few salient
things to notice: there are a lot of URLs pointing to secondary
information, parameters are included in the URLs, and the
response format is JSON.</p>
</div>
<div class="paragraph">
<p>What can we learn from this API response?</p>
</div>
</div>
<div class="sect2">
<h3 id="_breadcrumbs_to_successive_api_paths">Breadcrumbs to Successive API Paths</h3>
<div class="paragraph">
<p>The GitHub API is a Hypermedia API. Though a discussion on what constitutes
hypermedia deserves an entire book of its own (Check out O&#8217;Reilly&#8217;s
"Hypermedia APIs with HTML5 and Node"), you can absorb much of what
makes hypermedia interesting by just looking at a response. First, you
can see from the API response above that by making a request to the
API, you receive a map, directions on how to make additional
responses. Not all clients use this information, of course, but one
goal behind Hypermedia APIs is that clients can dynamically adjust
their endpoints without recoding the client code. If the thought of
GitHub changing an API because clients <strong>should</strong> be written to handle
new endpoints automatically sounds worriesome, don&#8217;t fret too much:
GitHub is very dilligent about maintaining and supporting their API in a way
that most companies would do well to emulate. But, you should know
that you can rely on having a API reference inside the API itself,
rather than hosted externally in documentation which very easily could
turn out to be out of date with the API itself.</p>
</div>
<div class="paragraph">
<p>These API maps are rich with data. For example, they are not just URLs
to content, but also information about how to provide parameters to the
URLs. Looking at the previous example, the <code>code_search_url</code> key
references a URL which obviously allows you to search within code on
GitHub, but also tells you how to structure the parameters passed to
this URL. If you have an intelligent client who can follow this
programmatic format, you could dynamically generate the query without
involving a developer who can read API documentation. At least that is
the dream that Hypermedia points us to; if you are skeptical, at least know that
APIs such as GitHub encode documentation into themselves, and you can
bet GitHub has test coverage to prove that this documentation matches
the information delivered by the API endpoints. That&#8217;s a strong
guarantee that is sadly missing from many other APIs.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s briefly discuss the format of all GitHub API responses: JSON.</p>
</div>
</div>
<div class="sect2">
<h3 id="_the_javascript_object_notation_json_format">The JavaScript Object Notation (JSON) Format</h3>
<div class="paragraph">
<p>Every response you get back from the GitHub API will be in the JSON
format. JSON is a "lightweight data interchange format" (read more on
the JSON.org website). There are other competing and effective
formats, such as XML ("Extensible Markup Language") or YAML ("YAML
Ain&#8217;t Markup Language"), but JSON is quickly becoming the defacto
standard for web services.</p>
</div>
<div class="paragraph">
<p>YAML</p>
</div>
<div class="paragraph">
<p>A few of the reasons why JSON is so popular:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>JSON is readable: JSON has a nice balance of human readability when
compared to serialization formats like XML.</p>
</li>
<li>
<p>JSON can be used within JavaScript with very little modification
(and cognitive processing on the part of the programmer). A data
format which works equally well on both the client and server side
was bound to be victorious, as JSON has been.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You might expect that a site like GitHub, originally built on the Ruby
on Rails stack (and some of that code is still live), would support
specifying an alternative format like XML, but XML is no longer
supported. Long live JSON.</p>
</div>
<div class="paragraph">
<p>JSON is very straightforward if you have used any other text based
interchange format. One note about JSON that is not always obvious or
expected to people new to JSON: the format only supports using
double-quotes, not single-quotes.</p>
</div>
<div class="paragraph">
<p>We are using a command line tool, cURL, to retrieve data from the
API. It would be handy to have a simple command line tool that also
processes that JSON. Let&#8217;s talk about one such tool next.</p>
</div>
<div class="sect3">
<h4 id="_parsing_json_from_the_command_line">Parsing JSON from the Command Line</h4>
<div class="paragraph">
<p>JSON is a text format, so you could use any command line text processing tool, such
as the venerable AWK, to process JSON responses. There is one fantastic JSON
specific parsing tool which complements cURL that is worth knowing:
"jq". If you pipe JSON content (using the <code>|</code> character for most shells)
into jq, you can then easily extract pieces of the JSON using "filters."</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Installing jq</div>
jq can be installed from source, using package managers like <code>brew</code> or
<code>apt-get</code>, and there are binaries on the downloads page for OSX,
Linux, Windows and Solaris (<a href="http://stedolan.github.io/jq/download/" class="bare">http://stedolan.github.io/jq/download/</a>).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Going deeper, in the prior example, let&#8217;s pull out something
interesting from the API map that we receive when we access
api.github.com.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ curl https://api.github.com | jq '.current_user_url'
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  2004  100  2004    0     0   4496      0 --:--:-- --:--:-- --:--:--  4493
"https://api.github.com/user"</code></pre>
</div>
</div>
<div class="paragraph">
<p>What just happened? The <code>jq</code> tool parsed the JSON, and using the
<code>.current_user_url</code> filter, it retrieved content from the JSON
response. If you look at the response again, you&#8217;ll notice it has
key/value pairs inside an associative array. It uses the
<code>current_user_url</code> as a key into that associative array and prints out
the value there.</p>
</div>
<div class="paragraph">
<p>You also will notice that curl printed out transfer time
information. cURL printed this information to "standard error" which
is a shell convention used for messaging errors and an output stream
which jq will correctly ignore (in other words, the JSON format stream
will not be corrupted by error messages). If we want to
restrict that information and clean up the request we should use the
<code>-s</code> switch, which runs cURL in "silent" mode.</p>
</div>
<div class="paragraph">
<p>It should be easy to understand how the jq filter is applied to the
response JSON. For a more complicated request (for example, we might
want to obtain a list of public repositories for a user), we can see
the pattern for the jq pattern parameter emerging. Let&#8217;s get a more
complicated set of information, a user&#8217;s list of repositories and see
how we can extract information from the response using jq.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ curl -s https://api.github.com/users/xrd/repos
[
  {
    "id": 19551182,
    "name": "a-gollum-test",
    "full_name": "xrd/a-gollum-test",
    "owner": {
      "login": "xrd",
      "id": 17064,
      "avatar_url":
      "https://avatars.githubusercontent.com/u/17064?v=3",
     ...
  }
]
$ curl -s https://api.github.com/users/xrd/repos | jq '.[0].owner.id'
17064</code></pre>
</div>
</div>
<div class="paragraph">
<p>This response is different structurally: instead of an associative
array, we now have an array (multiple items). To get the first one, we
specify a numeric index, and then key into the successive associative
arrays inside of it to reach the desired content: the owner id.</p>
</div>
<div class="paragraph">
<p>Jq is a great tool for checking the validity of JSON. As mentioned
before, JSON key/values are stored only with double-quotes, not single
quotes. You can verify that JSON is valid and satisfies this
requirement using jq.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ echo '{ "a" : "b" }' | jq '.'
{
  "a": "b"
}
$ echo "{ 'no' : 'bueno' }" | jq "."
parse error: Invalid numeric literal at line 1, column 7</code></pre>
</div>
</div>
<div class="paragraph">
<p>The first JSON we pass into jq works, while the second, because it
uses invalid single quote characters, fails with an error. Jq filters
are strings passed as arguments, and the shell which provides the
string to jq does not care, however, if you use single quotes or
double quotes, as you see above. The echo command, if you didn&#8217;t
already know, prints out whatever string you provide to it; when we
combine this with the pipe character we can easily provide that string
to jq through standard input.</p>
</div>
<div class="paragraph">
<p>Jq is a powerful tool for quickly retrieving content from an arbitray
JSON request. Jq has many other powerful features, documented at
stedolan.github.io/jq.</p>
</div>
<div class="paragraph">
<p>We now know how to retrieve some interesting information from the
GitHub API and parse out bits of information from that response, all
in a single line. But, there will be times when you incorrectly
specify parameters to cURL or the API, and the data is not what you
expect. Now we&#8217;ll learn about how to debug the cURL tool and the API
service itself to provide more context when things go wrong.</p>
</div>
</div>
<div class="sect3">
<h4 id="_debugging_switches_for_curl">Debugging Switches for cURL</h4>
<div class="paragraph">
<p>As mentioned, cURL is a great tool when you are verifying that a
response is what you expect it to be. The response body is important,
but often you&#8217;ll want access to the headers as well. cURL makes
getting these easy with the <code>-i</code> and <code>-v</code> switches. The <code>-i</code> switch
prints out request headers, and the <code>-v</code> switch prints out both
request and response headers (the <code>&gt;</code> character indicates request
data, and the <code>&lt;</code> character indicates response data).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ curl -i https://api.github.com
HTTP/1.1 200 OK
Server: GitHub.com
Date: Wed, 03 Jun 2015 19:39:03 GMT
Content-Type: application/json; charset=utf-8
Content-Length: 2004
Status: 200 OK
X-RateLimit-Limit: 60
...
{
  "current_user_url": "https://api.github.com/user",
  ...
}
$ curl -v https://api.github.com
* Rebuilt URL to: https://api.github.com/
* Hostname was NOT found in DNS cache
*   Trying 192.30.252.137...
* Connected to api.github.com (192.30.252.137) port 443 (#0)
* successfully set certificate verify locations:
*   CAfile: none
  CApath: /etc/ssl/certs
* SSLv3, TLS handshake, Client hello (1):
* SSLv3, TLS handshake, Server hello (2):
...
* CN=DigiCert SHA2 High Assurance Server CA
*        SSL certificate verify ok.
&gt; GET / HTTP/1.1
&gt; User-Agent: curl/7.35.0
&gt; Host: api.github.com
&gt; Accept: */*
&gt;
&lt; HTTP/1.1 200 OK
* Server GitHub.com is not blacklisted
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>With the <code>-v</code> switch you get everything: DNS lookups, information on
the SSL chain, and the full request and response information.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Be aware that if you print out headers, a tool like jq will get
confused because you are no longer providing it with pure JSON.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This section shows us that there is interesting information not only
in the body (the JSON data) but also in the headers. It is important
to understand what headers are here and which ones are
important. There are a lot of them which the HTTP specification
requires, and we can often ignore those, but there are a few that are
vital when you start making more than just a few isolated request.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_important_headers">Important Headers</h3>
<div class="paragraph">
<p>Three headers are present in every GitHub API response which tell you
about the GitHub API rate limits.  They are X-RateLimit-Limit,
X-RateLimit-Remaining, and X-RateLimit-Reset.   These limits are
explained in detail in <a href="#developer-api-rates">GitHub API Rate Limits</a>.</p>
</div>
<div class="paragraph">
<p>The X-GitHub-Media-Type header contains information that will come in
handy when you are starting to retrieve text or blob content from the
API. When you make a request to the GitHub API you can specify the
format you want to work with by sending an Accept header with your request.</p>
</div>
<div class="paragraph">
<p>Now, let&#8217;s use a response to build another response.</p>
</div>
</div>
<div class="sect2">
<h3 id="_following_a_hypermedia_api">Following a Hypermedia API</h3>
<div class="paragraph">
<p>We&#8217;ll use the "map" of the API by hitting the base endpoint, and then
use the response to manually generate another request.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ curl -i https://api.github.com/
HTTP/1.1 200 OK
Server: GitHub.com
Date: Sat, 25 Apr 2015 05:36:16 GMT
...
{
  "current_user_url": "https://api.github.com/user",
  ...
  "organization_url": "https://api.github.com/orgs/{org}",
  ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can use the organizational URL and substitute "github" in the placeholder.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ curl https://api.github.com/orgs/github
{
  "login": "github",
  "id": 9919,
  "url": "https://api.github.com/orgs/github",
  ...
  "description": "GitHub, the company.",
  "name": "GitHub",
  "company": null,
  "blog": "https://github.com/about",
  "location": "San Francisco, CA",
  "email": "support@github.com",
  ...
  "created_at": "2008-05-11T04:37:31Z",
  "updated_at": "2015-04-25T05:17:01Z",
  "type": "Organization"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This information allows us to do some forensics on GitHub itself. We
get the company blog <a href="https://github.com/about" class="bare">https://github.com/about</a>. We see that GitHub
is located in San Francisco. And, we see that the creation date of the
organization is May 11th, 2008. Reviewing the blog, we see a blog post
from April that indicates GitHub launched as a company a month earlier
(<a href="https://github.com/blog/40-we-launched" class="bare">https://github.com/blog/40-we-launched</a>). Perhaps organizations were
not added to the GitHub site features until a month after the company launched?</p>
</div>
<div class="paragraph">
<p>So far all of our requests have retrieved publicly available
information. But, the GitHub API has a much richer set of information
that is available only once we authenticate and access private
information and publicly inaccessible services. For example, if you
are using the API to write data into GitHub, you need to know about
authentication.</p>
</div>
</div>
<div class="sect2">
<h3 id="authentication">Authentication</h3>
<div class="paragraph">
<p>There are two ways to authenticate when making a request to the GitHub
API: username and passwords (HTTP Basic), and OAuth tokens.</p>
</div>
<div class="sect3">
<h4 id="_username_and_password_authentication">Username and Password Authentication</h4>
<div class="paragraph">
<p>You can access protected content inside GitHub using a username and
password combination. Username authentication works by using the HTTP
Basic authentication supported by the <code>-u</code> flag in curl. HTTP Basic
Authentication is synonymous with username and password authentication.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl -u xrd https://api.github.com/rate_limit
Enter host password for user 'xrd': xxxxxxxx
{
  "rate": {
    "limit": 5000,
    "remaining": 4995,
    "reset": 1376251941
  }
}</pre>
</div>
</div>
<div class="paragraph">
<p>This cURL command, authenticates into the GitHub API and then
retrieves  information about our own specific rate limits for our user
account, protected information only available as a logged in user.</p>
</div>
<div class="sect4">
<h5 id="_benefits_of_username_authentication">Benefits of Username Authentication</h5>
<div class="paragraph">
<p>Almost any client library you use will support HTTP Basic
authentication. All the GitHub API clients we looked at support
username and passwords. And, writing your own specific client is easy
as this is a core feature of the HTTP standard, so if you use any
standard HTTP library when building your own client, you will be able
to access content inside the GitHub API.</p>
</div>
</div>
<div class="sect4">
<h5 id="_downsides_to_username_authentication">Downsides to Username Authentication</h5>
<div class="paragraph">
<p>There are many reasons why username and password authentication is the
wrong way to manage your GitHub API access.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>HTTP Basic is an old protocol which never anticipated the
granularity of web services. It is not possible to specify only
certain features of a web service if you ask users to authenticate
with username/passwords.</p>
</li>
<li>
<p>If you use a username and password to access GitHub API content from
your cell phone, and then access API content from your laptop, you
have no way to block access to one without blocking the other.</p>
</li>
<li>
<p>HTTP Basic authentication does not support extensions to the
authentication flow. Many modern services now support two-factor
authentication and there is no way to inject this into the process
without changing the HTTP clients (web browsers, for example) or at
least the flow they expect (making the browser repeat the request).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All of these problems are solved (or at least supported) with OAuth
flows. Given all these concerns, the only time you will want to use
username and password authentication is when convenience trumps all
other considerations.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_oauth">OAuth</h4>
<div class="paragraph">
<p>OAuth is an authentication mechanism where tokens are tied to
functionality or clients. In other words, you can specify what
features of a service you want to permit an OAuth token to carry with
it, and you can issue multiple tokens and tie those to specific
clients: a cell phone app, a laptop, a smart watch, or even an
Internet of Things toaster. And, importantly, you can revoke tokens
without impacting other tokens.</p>
</div>
<div class="paragraph">
<p>The main downside to OAuth tokens is that they introduce a level of
complexity that you may not be familiar with if you have only used
HTTP Basic. HTTP Basic requests generally only require adding an extra
header to the HTTP request, or an extra flag to a client tool like cURL.</p>
</div>
<div class="paragraph">
<p>OAuth solves the problems described above by linking tokens to scopes
(specified subsets of functionality inside a webs service) and
issuing as many tokens as you need to multiple clients.</p>
</div>
<div class="sect4">
<h5 id="_scopes_specified_actions_tied_to_authentication_tokens">Scopes: specified actions tied to authentication tokens</h5>
<div class="paragraph">
<p>When you generate an OAuth token, you specify the access rights you
require. Though our examples create the token using HTTP Basic, once
you have the token, you no longer need to use HTTP Basic in successive
requests. If this token is properly issued, the OAuth token will have
permissions to read and write to public repositories owned by that user.</p>
</div>
<div class="paragraph">
<p>The following cURL command uses HTTP Basic to initiate the token
request process.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ curl -u username -d '{"scopes":["public_repo"]}' \
https://api.github.com/authorizations
{
  "id": 1234567,
  "url": "https://api.github.com/authorizations/1234567",
  "app": {
    "name": "My app",
    "url": "https://developer.github.com/v3/oauth_authorizations/",
    "client_id": "00000000000000000000"
  },
  "token": "abcdef87654321
  ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The JSON response, upon success, has a token you can extract and use
for applications that need access to the GitHub API.</p>
</div>
<div class="paragraph">
<p>If you are using two factor authentication, this flow requires
additional steps, all of which are documented within the <a href="#Hubot Chapter">[Hubot Chapter]</a>.</p>
</div>
<div class="paragraph">
<p>To use this token, you specify the token inside an authorization
header.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ curl -H "Authorization: token abcdef87654321" ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Scopes clarify how a service or application will use data inside the
GitHub API. This makes it easy to audit how you are using the
information if this was a token issued for your own personal use. But,
most importantly, this provides valuable clarity and protection for
those times when a third party application wants to access your
information: you can be assured the application is limited in what
data it can access, and you can revoke access easily.</p>
</div>
</div>
<div class="sect4">
<h5 id="_scope_limitations">Scope Limitations</h5>
<div class="paragraph">
<p>There is one major limitation of scopes to be aware of: you cannot do
fine-grained access to certain repositories only. If you provide
access to any of your private repositories, you are providing access
to all repositories.</p>
</div>
<div class="paragraph">
<p>It is likely that GitHub will change the way scopes work and address
some of these issues. The great thing about the way OAuth works is
that to support these changes you will simply need to request a new
token with the scope modified, but otherwise, the application
authentication flow will be unchaged.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
Be very careful about the scopes you request when building a service
or application. Users are (rightly) paranoid about the data they are
handing over to you, and will evaluate your application based on the scopes
requested. If they don&#8217;t think you need that scope, be sure to remove
it from the list you provide to GitHub when authorizing and consider
escalation to a higher scope after you have developed some trust with
your users.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_scope_escalation">Scope Escalation</h5>
<div class="paragraph">
<p>You can ask for scope at one point which is very limited, and then
later ask for a greater scope. For example, when a user first accesses
your application, you could only get the user scope to create a user
object inside your service, and only when your application needs
repository information for a user, then request to escalate
privileges. At this point the user will need to approve or disapprove
your request, but asking for everything up front (before you have a
relationship with the user) often results in a user abandoning the login.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s get into the specifics of authentication using OAuth.</p>
</div>
</div>
<div class="sect4">
<h5 id="_simplified_oauth_flow">Simplified OAuth Flow</h5>
<div class="paragraph">
<p>OAuth has many variants, but GitHub uses OAuth2. OAuth2 specifies a
flow where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the application requests access</p>
</li>
<li>
<p>the service provider (GitHub) requests authentication: username and
password usually.</p>
</li>
<li>
<p>if two-factor authentication is enabled, ask for the OTP (one time password) code.</p>
</li>
<li>
<p>GitHub responds with a token inside a JSON payload</p>
</li>
<li>
<p>the application uses the OAuth token to make requests of the API.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A real world flow is described in full in the <a href="#Hubot">[Hubot]</a> chapter.</p>
</div>
<div class="paragraph">
<p>Now let&#8217;s look at the variety of HTTP status codes GitHub uses to
communicate feedback when using the API.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_status_codes">Status Codes</h3>
<div class="paragraph">
<p>The GitHub API uses HTTP status codes to tell you definitive
information about how your request was processed. If you are using a
basic client like cURL, it will be important to validate the status
code before you look at any of the data retrieved. If you are writing
your own API client, pay close attention to the status code before
anything else. If you are new to the GitHub API, it is worth reviewing
the responses codes thoroughly until you get to are familiar with the
various conditions that can cause errors when making a request.</p>
</div>
<div class="sect3">
<h4 id="_success_200_or_201">Success (200 or 201)</h4>
<div class="paragraph">
<p>If you have worked with any HTTP clients whatsoever, you know what the
HTTP status code "200" means success. GitHub will respond with a 200
status code when your request destination URL and associated
parameters are correct. If your request creates content on the server,
then you will get a 201 status code, indicating a successful creation on
the server.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ curl -s -i https://api.github.com | grep Status
Status: 200 OK</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_naughty_json_400">Naughty JSON (400)</h4>
<div class="paragraph">
<p>If your payload (the JSON you send to a request) is invalid, the
GitHub API will respond with a 400 error, as shown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ curl -i -u xrd -d 'yaml: true' -X POST https://api.github.com/gists
Enter host password for user 'xrd':
HTTP/1.1 400 Bad Request
Server: GitHub.com
Date: Thu, 04 Jun 2015 20:33:49 GMT
Content-Type: application/json; charset=utf-8
Content-Length: 148
Status: 400 Bad Request
...

{
  "message": "Problems parsing JSON",
  "documentation_url":
  "https://developer.github.com/v3/oauth_authorizations/#create-a-new-authorization"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here we attempt to generate a new gist by using the endpoint described
at the Gist API documentation:
<a href="https://developer.github.com/v3/gists/#create-a-gist" class="bare">https://developer.github.com/v3/gists/#create-a-gist</a>. We&#8217;ll detail
Gists in more detail in a later chapter. This issue fails because we
are not using JSON (this looks it could be YAML, which we will discuss
in the Jekyll chapter). The payload is sent using the <code>-d</code>
switch. GitHub responds with advice on where to find the documentation
for the correct format at the <code>documentation_url</code> key inside the JSON
response.  Notice that we use the <code>-X POST</code> switch and value to tell
cURL to make a POST request to GitHub.</p>
</div>
</div>
<div class="sect3">
<h4 id="_improper_json_422">Improper JSON (422)</h4>
<div class="paragraph">
<p>If any of the fields in your request are invalid, GitHub will respond
with a 422 error. Let&#8217;s attempt to fix the previous request. The
documentation indicates the JSON payload should look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
  "description": "the description for this gist",
  "public": true,
  "files": {
    "file1.txt": {
      "content": "String file contents"
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>What happens if the JSON is valid, but the fields are incorrect?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">$ curl -i -u chris@burningon.com -d '{ "a" : "b" }' -X POST
https://api.github.com/gists
Enter host password for user 'chris@burningon.com':
HTTP/1.1 422 Unprocessable Entity
...

{
  "message": "Invalid request.\n\n\"files\" wasn't supplied.",
  "documentation_url": "https://developer.github.com/v3"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are two important things to note: first, we get a 422 error,
which indicates the JSON was valid, but the fields were incorrect. We
also get a response which indicates why: we are missing the <code>files</code>
key inside the request payload.</p>
</div>
</div>
<div class="sect3">
<h4 id="_successful_creation_201">Successful Creation (201)</h4>
<div class="paragraph">
<p>We&#8217;ve seen what happens when the JSON is invalid, but what happens
when the JSON is valid for our request?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ curl -i -u xrd \
-d '{"description":"A","public":true,"files":{"a.txt":{"content":"B"}}} \
https://api.github.com/gists
Enter host password for user 'xrd':
HTTP/1.1 201 Created
...

{
  "url": "https://api.github.com/gists/4a86ed1ca6f289d0f6a4",
  "forks_url":
  "https://api.github.com/gists/4a86ed1ca6f289d0f6a4/forks",
  "commits_url":
  "https://api.github.com/gists/4a86ed1ca6f289d0f6a4/commits",
  "id": "4a86ed1ca6f289d0f6a4",
  "git_pull_url": "https://gist.github.com/4a86ed1ca6f289d0f6a4.git",
  ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Success! We created a gist and got a 201 status code indicating things
worked properly. To make our command more readable we used the
backslash character to allow parameters to span across lines. Also,
notice the JSON does not require whitespace which we have completely
removed from the string passed to the <code>-d</code> switch (in order to save
space and make this command a little bit more readable).</p>
</div>
</div>
<div class="sect3">
<h4 id="_nothing_has_changed_304">Nothing Has Changed (304)</h4>
<div class="paragraph">
<p>304s are like 200s in that they say to the client: yes, your request
succeeded. They give a little bit of extra information, however, in
that they tell the client that the data has not changed since the last
time the same request was made. This is valuable information if you
are concerned about your usage limits (and in most cases you will
be). We have not yet explained how rate limits work, so let&#8217;s discuss
that and then return to demonstrate triggering a 304 response code by using
conditional headers.</p>
</div>
</div>
<div class="sect3">
<h4 id="developer-api-rates">GitHub API Rate Limits</h4>
<div class="paragraph">
<p>GitHub tries to limit the rate at which users can make requests to the
API.  Anonymous requests (requests that haven&#8217;t authenticated with
either a username/password or OAuth information) are limited to 60
requests an hour. If you are developing a system to integrate with the
GitHub API on behalf of users, clearly 60 requests per hour isn&#8217;t
going to be sufficient.</p>
</div>
<div class="paragraph">
<p>This rate limit is increased to 5000 requests per hour if you are
making an authenticated request to the GitHub API, and while this rate
is two orders of magnitude larger than the anonymous rate limit, it
still presents problems if you intend to use your own GitHub
credentials when making requests on behalf of many users.</p>
</div>
<div class="paragraph">
<p>For this reason, if your web site or service uses the GitHub API to
request information from the GitHub API, you should consider using
OAuth and make requests to the GitHub API using your user&#8217;s shared
authentication information. If you use a token connected to another
user&#8217;s GitHub account, the rate limits count against that user, and
not your user account.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
There are actually two rate limits.  The "core" rate limit and the
"search" rate limit.  The rate limits explained in the previous
paragraphs were for the core rate limit.  For search,
requests are limited at 20 requests per minute for authenticated user
requests and 5 request per minute for anonymous requests. The
assumption here is that search is a more infrastructure intensive
request to satisfy and that tighter limits are placed on its usage.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Note that GitHub tracks anonymous requests by IP address. This means
that if you are behind a firewall with other users making anonymous
requests, all those requests will be grouped together.</p>
</div>
</div>
<div class="sect3">
<h4 id="_reading_your_rate_limits">Reading Your Rate Limits</h4>
<div class="paragraph">
<p>Reading your rate limit is straightforward, just make a GET request to
/rate_limit.  This will return a JSON document which tells you the
limit you are subject to, the number of requests you have remaining,
and the timestamp (in seconds since 1970).  Note that this timestamp
has a timezone in Coordinated Universal Time (UTC).</p>
</div>
<div class="paragraph">
<p>The following command listing uses curl to retrieve the rate limit
for an anonymous request.   This response is abbreviated to save space
in this book, but you&#8217;ll notice that the quota information is supplied
twice: once in the HTTP response headers and again in the JSON
response.  The rate limit headers are returned with every request to
the GitHub API, so there is little need to make a direct call to the
/rate_limit API.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl https://api.github.com/rate_limit
{
  "resources": {
    "core": {
      "limit": 60,
      "remaining": 48,
      "reset": 1433398160
    },
    "search": {
      "limit": 10,
      "remaining": 10,
      "reset": 1433395543
    }
  },
  "rate": {
    "limit": 60,
    "remaining": 48,
    "reset": 1433398160
  }
}</pre>
</div>
</div>
<div class="paragraph">
<p>60 requests over the course of an hour isn&#8217;t very much, and if
you plan on doing anything interesting, you will likely exceed this
limit quickly. If you are hitting up against the 60 requests per
minute limit, you will likely want to investigate making authenticated
requests to the GitHub API. We&#8217;ll show that when we discuss
authenticated requests.</p>
</div>
<div class="paragraph">
<p>Calls to the rate limit API are not deducted from your rate
limits. And, remember, rate limits are reset after 24 hours.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_conditional_requests_to_avoid_rate_limitations">Conditional Requests to Avoid Rate Limitations</h3>
<div class="paragraph">
<p>If you are querying the GitHub APIs to obtain activity data for a user
or a repository, there&#8217;s a good chance that many of your requests
won&#8217;t return much activity.  If you check for new activity once every
few minutes, there will be time periods over which no activity has
occurred.  These constant polls still use up requests
in your rate limit even though there&#8217;s no new activity to be
delivered.</p>
</div>
<div class="paragraph">
<p>In these cases, you can send conditional HTTP headers
<code>If-Modified-Since</code> and <code>If-None-Match</code> to tell GitHub to return an HTTP
304 response code telling you that nothing has been modified.  When
you send a request with a conditional header and the GitHub API responds
with a HTTP 304 response code, this request is not deducted from your
rate limit.</p>
</div>
<div class="paragraph">
<p>The following command listing is an example of passing in the
If-Modified-Since HTTP header to the GitHub API. Here we&#8217;ve
specified that we&#8217;re only interested in receiving content if the
Twitter Boostrap repositories has been altered after 7:49 PM GMT on
Sunday, August 11, 2013.  The GitHub API responds with a HTTP 304
response code which also tells us that the last time this repository
changed was a minute earlier than our cutoff date.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl -i https://api.github.com/repos/twbs/bootstrap \
          -H "If-Modified-Since: Sun, 11 Aug 2013 19:48:59 GMT"
HTTP/1.1 304 Not Modified
Server: GitHub.com
Date: Sun, 11 Aug 2013 20:11:26 GMT
Status: 304 Not Modified
X-RateLimit-Limit: 60
X-RateLimit-Remaining: 46
X-RateLimit-Reset: 1376255215
Cache-Control: public, max-age=60, s-maxage=60
Last-Modified: Sun, 11 Aug 2013 19:48:39 GMT</pre>
</div>
</div>
<div class="paragraph">
<p>The GitHub API also understands HTTP caching tags. An ETag, or Entity Tag, is an HTTP
header that is used to control whether or not content that you have
previously cached is the most recent version.  Here&#8217;s how your systems
would use ETag:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Your server requests information from an HTTP server.</p>
</li>
<li>
<p>Server returns an ETag header for a version of a content item.</p>
</li>
<li>
<p>Your server includes this ETag in all subsequent requests.</p>
<div class="ulist">
<ul>
<li>
<p>If the server has a newer version it returns new content + a new
ETag</p>
</li>
<li>
<p>If the server doesn&#8217;t have a newer version it returns an HTTP 304</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following command listing demonstrates two commands.  The first
curl call to the GitHub API generates an ETag value, and the second
value passes this ETag value as an If-None-Match header.  You&#8217;ll note
that the second response is an HTTP 304 which tells the caller that
there is no new content available.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ curl -i https://api.github.com/repos/twbs/bootstrap
HTTP/1.1 200 OK
Cache-Control: public, max-age=60, s-maxage=60
Last-Modified: Sun, 11 Aug 2013 20:25:37 GMT
ETag: "462c74009317cf64560b8e395b9d0cdd"

{
  "id": 2126244,
  "name": "bootstrap",
  "full_name": "twbs/bootstrap",
  ....
}

$ curl -i https://api.github.com/repos/twbs/bootstrap \
          -H 'If-None-Match: "462c74009317cf64560b8e395b9d0cdd"'

HTTP/1.1 304 Not Modified
Status: 304 Not Modified
Cache-Control: public, max-age=60, s-maxage=60
Last-Modified: Sun, 11 Aug 2013 20:25:37 GMT
ETag: "462c74009317cf64560b8e395b9d0cdd"</pre>
</div>
</div>
<div class="paragraph">
<p>Use of conditional request headers is encouraged to conserve resources
and make sure that the infrastructure that supports GitHub&#8217;s API isn&#8217;t
asked to generated content unnecessarily.</p>
</div>
<div class="paragraph">
<p>At this point we have been accessing the GitHub API from a cURL
client, and as long as our network permits it, we can do whatever we
want. The GitHub API is accessible in other situations as well, like
from within a browser context, and certain restrictions apply there,
so let&#8217;s discuss that next.</p>
</div>
</div>
<div class="sect2">
<h3 id="_accessing_content_from_the_web">Accessing Content from the Web</h3>
<div class="paragraph">
<p>If you are using the GitHub API from a server side program or the
command line then you are free to issue any network calls as long as
your network permits it. If you are attempting to access the GitHub
API from within a browser using JavaScript and the XHR
(XmlHttpRequest) object, then you should be aware of limitations
imposed by the browser&#8217;s same-origin policy. In a nutshell, you are
not able to access domains from JavaScript using standard XHR requests
outside of the domain from which you retrieved the original
page. There are two options for getting around this restriction, one
clever (JSON-P) and one fully supported but slightly more onerous (CORS).</p>
</div>
<div class="sect3">
<h4 id="_json_p">JSON-P</h4>
<div class="paragraph">
<p>JSON-P is a browser hack, more or less, that allows retrieval of
information from servers outside of the same-origin policy. JSON-P
works because <code>&lt;script&gt;</code> tags are not checked against the same-origin
policy; in other words, your page can include references to content on
servers other than the from which the page originated. With JSON-P, you load
a JavaScript file which resolves to a specially encoded data payload
wrapped in a callback function you implement. The GitHub API supports
this syntax: you request a script with a parameter on the URL
indicating what callback you want the script to execute once loaded.</p>
</div>
<div class="paragraph">
<p>We can simulate this request in cURL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>$ curl https://api.github.com/?callback=myCallback
/**/myCallback({
  "meta": {
    "X-RateLimit-Limit": "60",
    "X-RateLimit-Remaining": "52",
    "X-RateLimit-Reset": "1433461950",
    "Cache-Control": "public, max-age=60, s-maxage=60",
    "Vary": "Accept",
    "ETag": "\"a5c656a9399ccd6b44e2f9a4291c8289\"",
    "X-GitHub-Media-Type": "github.v3",
    "status": 200
  },
  "data": {
    "current_user_url": "https://api.github.com/user",
    "current_user_authorizations_html_url":
    "https://github.com/settings/connections/applications{/client_id}",
    "authorizations_url": "https://api.github.com/authorizations",
    ...
  }
 })</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you used the same URL we used above inside a script tag on a
web page (<code>&lt;script src="https://api.github.com/?callback=myCallback"
type="text/javascript"&gt;&lt;/script&gt;</code>), your browser would load the
content displayed above, and then a JavaScript function you defined
called <code>myCallback</code> would be executed with the data shown. This
function could be implemented like this inside your web page.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-javascript" data-lang="javascript">&lt;script&gt;
function myCallback( payload ) {
  if( 200 == payload.status ) {
    document.getElementById("success").innerHTML =
      payload.data.current_user_url;
  } else {
    document.getElementById("error").innerHTML =
      "An error occurred";
  }
}
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This example demonstrates taking the <code>current_user_url</code> from the data inside
the payload and putting it into a DIV, one that might look like <code>&lt;div
id="success"&gt;&lt;/div&gt;</code>.</p>
</div>
<div class="paragraph">
<p>Because JSON-P works via &lt;script&gt; tags, only GET requests to the API
are supported. If you only need read-only access to the API, JSON-P
can fulfill that need in many cases, and it is easy to configure.</p>
</div>
<div class="paragraph">
<p>If JSON-P seems too limiting or hackish, CORS is a more complicated
but official way to access external services from within a web page.</p>
</div>
</div>
<div class="sect3">
<h4 id="_cors_support">CORS Support</h4>
<div class="paragraph">
<p>CORS is the W3C (a web standards body) approved way to access content
from a different domain than the original host. CORS requires that the
server be properly configured in advance; the server must indicate
when queried that it allows cross domain requests. If the server
effectively says "yes, you can access my content from a different
domain" then CORS requests are permitted. The HTML5Rocks website has a
great tutorial explaining many details of CORS:
<a href="http://www.html5rocks.com/en/tutorials/cors/" class="bare">http://www.html5rocks.com/en/tutorials/cors/</a>.</p>
</div>
<div class="paragraph">
<p>Because XHR using CORS allows the same type of XHR requests as you get
from the same domain origin, you can make requests beyond GET to the
GitHub API: POST, DELETE and UPDATE. Between JSON-P and CORS you have two options for accessing content
from the GitHub API inside of web browsers. The choice is between
the simplicity of JSON-P and the power and extra configuration of CORS.</p>
</div>
<div class="paragraph">
<p>We can prove using cURL that the GitHub API server is responding correctly for
CORS request. In this case we only care about the headers, so we use
the <code>-I</code> switch which tells cURL to make a HEAD request, telling the
server not to respond with body content.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>curl -I https://api.github.com
HTTP/1.1 200 OK
Server: GitHub.com
...
X-Frame-Options: deny
Content-Security-Policy: default-src 'none'
Access-Control-Allow-Credentials: true
Access-Control-Expose-Headers: ETag, Link, X-GitHub-OTP,
X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset,
X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval
Access-Control-Allow-Origin: *
X-GitHub-Request-Id: C0F1CF9E:07AD:3C493B:557107C7
Strict-Transport-Security: max-age=31536000; includeSubdomains;
preload</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can see the "Access-Control-Allow-Credentials" header is set to
true. It depends on the browser implementation, but some JavaScript
host browsers will automatically make a "preflight" request to verify
this header is set to true (and that other headers, like the
"Access-Control-Allow-Origin" are set correctly and permit requests
from that origin to proceed). Other JavaScript host browsers will need
you to make that request. Once the browser has used the headers to
confirm that CORS is permitted, you can make XHR requests to the
GitHub API domain as you would any other XHR request going into the
same domain.</p>
</div>
<div class="paragraph">
<p>We&#8217;ve covered much of the details of connecting and dissecting the
GitHub API, but there are a few other options to know about when using
it. One of them is that you can use the GitHub API service to provide
rendered content when you need it.</p>
</div>
</div>
<div class="sect3">
<h4 id="_specifying_response_content_format">Specifying Response Content Format</h4>
<div class="paragraph">
<p>When you send a request to the GitHub API, you have some ability to
specify the format of the response you expect.  For example, if you
are requesting content that contains text from a commit&#8217;s comment
thread, you can use the Accept header to ask for the raw markdown or
for the HTML this markdown generates.  You also have the ability to
specify this version of the GitHub API you are using.  At this point,
you can specify either version 3 or beta of the API.</p>
</div>
<div class="sect4">
<h5 id="_retrieving_formatted_content">Retrieving Formatted Content</h5>
<div class="paragraph">
<p>The Accept header you send with a request can affect the format of
text returned by the GitHub API.  As an example, let&#8217;s assume you
wanted to read the body of a GitHub Issue. An issue&#8217;s body is stored
in markdown and will be sent back in the request by default. If we
wanted to render the response as HTML instead of markdown, we could do
this by sending a different accept header, as the following cURL
commands demonstrate.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">$ URL='https://api.github.com/repos/rails/rails/issues/11819'
$ curl -s $URL | jq '.body'
"Hi, \r\n\r\nI have a problem with strong...." <b class="conum">(1)</b>
$ curl -s $URL | jq '.body_html'
null <b class="conum">(2)</b>
$ curl -s $URL \
-H "Accept: application/vnd.github.html+json" | jq '.body_html'
"&lt;p&gt;Hi, &lt;/p&gt;\n\n&lt;p&gt;I have a problem with..." <b class="conum">(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Without specifying an extra header, we get the internal
representation of the data, sent as markdown.</p>
</li>
<li>
<p>Note that if we don&#8217;t request the HTML representation, we
don&#8217;t see it in the JSON by default.</p>
</li>
<li>
<p>If we use a customized accept header like in
the third instance, then our JSON is populated with a rendered version
of the body in HTML.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Besides "raw" and "html" there are two other format options that
influence how Markdown content is delivered via the GitHub API.  If
you specify "text" as a format, the issue body would have been
returned as plaintext.  If you specify "full" then the content will
be rendered multiple times including the raw Markdown, rendered HTML,
and rendered plaintext.</p>
</div>
<div class="paragraph">
<p>In addition to controlling the format of text content, you can also
retrieve GitHub blobs either as raw binary or as a BASE64 encoded
text.  When retrieving commits, you can also specify that the content
be returned either as a diff or as a patch.  For more information
about these fine-grained controls for formatting, see the GitHub API
documentation.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The GitHub team has already provided very thorough documentation on
their API with examples using cURL. Bookmark this URL:
<a href="https://developer.github.com/v3/" class="bare">https://developer.github.com/v3/</a>. You&#8217;ll use it often. Do note that
this URL is tied, obviously, to the current API "Version 3", so this
URL will change when a new version is released.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_summary">Summary</h3>
<div class="paragraph">
<p>In this chapter we learned how to access the GitHub API from the
simplest client available: the command line cURL HTTP tool. We also
explored the API by looking at the JSON and played with a command line
tool (jq) that when paired with cURL gives us the ability to quickly
find information in the often large body of data the GitHub API
provides. We learned about the different authentication schemes
supported by GitHub, and also learned about the possibilities and
tradeoffs when accessing the GitHub API from within a browser context.</p>
</div>
<div class="paragraph">
<p>In the next chapter we will look at Gists and the Gist API. We&#8217;ll use
Ruby to build a Gist display program, and host all source files for
the application as a Gist itself.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-10-11 16:44:51 PDT
</div>

<div onclick="openCustomization()" class="fab-customization">☃</div>

<div class="loginWrapper" style="display: none">
  <div style="display: none" class="fab-user">👽</div>
  <div onclick="loginToGithub()" class="informational">Please login to GitHub</div>
</div>

<div class="informationalWrapper" style="display: none">
  <div class="informational smaller">
    Click on any dotted section to provide a comment or suggestion. Click on the edit button to cancel.
  </div>
</div>

<div onclick="toggleEditing()" class="fab">✏️</div>

<div class="modal micromodal-slide" id="modal-1" aria-hidden="true">
  <div class="modal__overlay" tabindex="-1" data-micromodal-close>
    <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-1-title">
      <header class="modal__header">
	<h2 class="modal__title" id="modal-1-title">
	  Add a comment or change request
	</h2>
	<button class="modal__close" aria-label="Close modal" data-micromodal-close></button>
      </header>
      <main class="modal__content" id="modal-1-content">
	Add a comment or change to this text
	<p id="selectedText">
	</p>

	<input name="change" type="text" placeholder="Enter your comment or edit request..."/>
      </main>
      <footer class="modal__footer">
	<button onclick="storeIt()" class="modal__btn modal__btn-primary">Store comment</button>
	<button class="modal__btn" data-micromodal-close aria-label="Close this dialog window">Close</button>
      </footer>
    </div>
  </div>
</div>

<div class="modal micromodal-slide" id="modal-2" aria-hidden="true">
  <div class="modal__overlay" tabindex="-1" data-micromodal-close>
    <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-2-title">
      <header class="modal__header">
	<h2 class="modal__title" id="modal-2-title">
	  Customize this book for you.
	</h2>
	<button class="modal__close" aria-label="Close modal" data-micromodal-close></button>
      </header>
      <main class="modal__content" id="modal-2-content">

	FYI: This does not yet work!
	<a target="_new" href="https://goo.gl/forms/8o5NgerENFqgm6vH3">Can you help provide feedback on what you like and want?</a>

	<div  class="customization">
	  <input type="checkbox" name="checkbox" id="checkbox_id" value="value">
	  <label for="checkbox_id">Minimize callouts</label>
	  <div class="explanation">If a chapter contains callouts with code, don't show those.
	    You can display these individually by clicking the summary text when needed.
	  </div>
	</div>

	<div class="customization">
	  <input type="checkbox" name="checkbox" id="checkbox_id2" value="value">
	  <label for="checkbox_id2">Minimize setup instructions</label>
	  <div class="explanation">If a chapter contains setup instructions, don't show those.
	    You can display these individually by clicking the summary text when needed.
	  </div>
	</div>

	<div class="customization">
	  <input type="checkbox" name="checkbox" id="checkbox_id3" value="value">
	  <label for="checkbox_id3">Show quizes</label>
	  <div class="explanation">
	    At certain points in the discussion, present quizes which test your knowledge!
	  </div>
	</div>

	<div class="customization">
	  <input type="checkbox" name="checkbox" id="checkbox_id4" value="value">
	  <label for="checkbox_id4">Show mistakes</label>
	  <div class="explanation">
	    At times the author may have made mistakes in writing the code. You can read about the techniques
	    used to figure out something was wrong, or only see the final solution.
	  </div>
	</div>

      </main>
      <footer class="modal__footer">
	<button  class="modal__btn modal__btn-primary">Save Customizations</button>
	<button class="modal__btn" data-micromodal-close aria-label="Close this dialog window">Close</button>
      </footer>
    </div>
  </div>
</div>

<div id="filedIssue">
  Thanks for your contribution!
  <div id="issueUrl"></div>.
  You've been tagged on it, so you will get updates automatically.
</div>

<iframe height="150px" width="100%"
	style="background-color: white !important"
	frameborder="0" id="th"
	src="https://tx.teddyhyde.com/contribution/btwg2.teddyhyde.io"></iframe>

<div class="faked">NB: This "contribution" button is a only a simulation, no actual money is required.
You can safely click the contribute button to see what would happen if you actually made a micro-contribution.
</div>

<div id="wrapper">
  <div id="personal_ad_wrapper">
    <!-- Add content to the popup -->
    <div id="personal_ad_popup">
      <h2>Thanks for your visit.</h2>

      <div>
	You aren't interesting in contributing. I get that, everyone has
	moments where it just doesn't work. Thanks for visiting.
      </div>

      <div>
	Please watch this ad for 15 seconds and
	then you'll have full access to the post.
      </div>

      <div>
	While you wait:
	<a target="_new" href="https://admin.teddyhyde.com">
	  <h3 class="underline">Why not create your own blog here?</h3>
	</a>
	Create your <strong>FREE Jekyll blog</strong> hosted on GitHub:
	<strong>fast and secure over HTTPS</strong>,
	with <strong>PWA notifications</strong> so your users never miss a post,
	and collect <strong>cryptocurrency micro-contributions</strong> with ease.
    </div>

  </div>
</div>
</div>
</div>
</body>
</html>